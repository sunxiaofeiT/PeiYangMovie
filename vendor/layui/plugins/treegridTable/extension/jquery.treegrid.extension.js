/** layui-v2.3.0-rc1 MIT License By https://www.layui.com */
 ;!function(e){"use strict";e.fn.treegridData=function(a,t){if("string"==typeof a)return e.fn.treegridData.methods[a](this,t);a=e.extend({},e.fn.treegridData.defaults,a||{});var d=e(this);d.getRootNodes=function(t){var d=[];return e.each(t,function(e,t){t[a.parentColumn]&&t[a.parentColumn]!==a.rootId||d.push(t)}),d};var r=0;return d.getChildNodes=function(t,n,l,s){e.each(t,function(i,o){if(o[a.parentColumn]==n[a.id]){var p=e("<tr></tr>"),u=l+r++ +1e4;p.addClass("treegrid-"+u),p.addClass("treegrid-parent-"+l),e.each(a.columns,function(a,t){var d=e("<td></td>");d.text(o[t.field]),p.append(d)}),s.append(p),d.getChildNodes(t,o,u,s)}})},d.addClass("layui-table"),d.prop("cellspacing",0),d.prop("cellpadding",0),d.prop("border",0),a.striped&&d.addClass("table-striped"),a.bordered&&d.addClass("table-bordered"),a.url&&e.ajax({type:a.type,url:a.url,data:a.ajaxParams,dataType:"JSON",success:function(t,n,l){if(a.dataName)for(var s=a.dataName.split("."),i=s.shift();i;)t=t[i],i=s.shift();if(!(t instanceof Array))return alert("返回数据不是 Array，请检查返回数据，或设置dataName字段");var o=e("<tr></tr>");e.each(a.columns,function(a,t){var d=e('<th style="padding:10px;"></th>');d.text(t.title),o.append(d)});var p=e("<thead></thead>");p.append(o),d.append(p);var u=e("<tbody></tbody>"),c=d.getRootNodes(t);e.each(c,function(n,l){var s=e("<tr></tr>");s.addClass("treegrid-"+(r+n)),e.each(a.columns,function(a,t){var d=e("<td></td>");d.text(l[t.field]),s.append(d)}),u.append(s),d.getChildNodes(t,l,r+n,u)}),d.append(u),d.treegrid({expanderExpandedClass:a.expanderExpandedClass,expanderCollapsedClass:a.expanderCollapsedClass}),a.expandAll||d.treegrid("collapseAll")}}),d},e.fn.treegridData.methods={getAllNodes:function(e,a){return e.treegrid("getAllNodes")}},e.fn.treegridData.defaults={id:"id",parentColumn:"parentId",data:[],dataName:"",type:"GET",url:null,ajaxParams:{},rootId:null,expandColumn:null,expandAll:!0,striped:!1,bordered:!1,columns:[],expanderExpandedClass:"layui-icon layui-icon-triangle-d",expanderCollapsedClass:"layui-icon layui-icon-triangle-r"}}(jQuery);